<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>차수생성 - NHN LINKSAM</title>

    <link rel="stylesheet" href="../../../css/lnb.css" />
    <link rel="stylesheet" href="../../../css/common.css" />
    <link rel="stylesheet" href="../../../css/reset.css" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
    <script type="text/javascript" src="../../../lib/jquery/jquery.tablednd.js"></script>
    
    <script>
      $(document).ready( function() {
        $("#lnb").load("../../../html/lnb.html", function() {
        });
      });
    </script>

  </head>
  <body>
    <div id="app">
      <div id="wrap" class="clear">
      <!-- lnb -->
      <div id="lnb" class="lnb"></div>
        <!-- contents -->
        <div id="contents" class="contents-area">
          <div id="top-bar" class="top-bar-area">
            <!-- 탭 -->
            <div class="common-tab type-capsule">
              <div class="common-tab-area">
                <ul class="common-tab-list">
                  <li class="common-tab-item">
                    <!-- 선택된 tab button에 aria-selected="true", 그 외 aria-selected="false" -->
                    <button type="button" class="common-tab-btn" aria-selected="true">
                      <span class="common-tab-btn-span">타이틀</span>
                      <a class="common-icon icon-close-selected ty-xs"></a>
                    </button>
                  </li>
                  <li class="common-tab-item">
                    <button type="button" class="common-tab-btn" aria-selected="false">
                      <span class="common-tab-btn-span">타이틀</span>
                      <a class="common-icon icon-close ty-xs"></a>
                    </button>
                  </li>
                  <li class="common-tab-item">
                    <button type="button" class="common-tab-btn" aria-selected="false">
                      <span class="common-tab-btn-span">타이틀</span>
                      <a class="common-icon icon-close ty-xs"></a>
                    </button>
                  </li>
                  <li class="common-tab-item">
                    <button type="button" class="common-tab-btn" aria-selected="false">
                      <span class="common-tab-btn-span">타이틀</span>
                      <a class="common-icon icon-close ty-xs"></a>
                    </button>
                  </li>
                  <li class="common-tab-item">
                    <button type="button" class="common-tab-btn" aria-selected="false">
                      <span class="common-tab-btn-span">타이틀</span>
                      <a class="common-icon icon-close ty-xs"></a>
                    </button>
                  </li>
                  <li class="common-tab-item">
                    <button type="button" class="common-tab-btn" aria-selected="false">
                      <span class="common-tab-btn-span">타이틀</span>
                      <a class="common-icon icon-close ty-xs"></a>
                    </button>
                  </li>
                  <li class="common-tab-item">
                    <button type="button" class="common-tab-btn" aria-selected="false">
                      <span class="common-tab-btn-span">타이틀</span>
                      <a class="common-icon icon-close ty-xs"></a>
                    </button>
                  </li>
                  <li class="common-tab-item">
                    <button type="button" class="common-tab-btn" aria-selected="false">
                      <span class="common-tab-btn-span">타이틀</span>
                      <a class="common-icon icon-close ty-xs"></a>
                    </button>
                  </li>
                  <li class="common-tab-item">
                    <button type="button" class="common-tab-btn" aria-selected="false">
                      <span class="common-tab-btn-span">타이틀</span>
                      <a class="common-icon icon-close ty-xs"></a>
                    </button>
                  </li>
                  <li class="common-tab-item">
                    <button type="button" class="common-tab-btn" aria-selected="false">
                      <span class="common-tab-btn-span">타이틀</span>
                      <a class="common-icon icon-close ty-xs"></a>
                    </button>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div id="table" class="table-area">
            <div id="lookup-top">
              <!-- 정산대기 -->
              <h2 class="t-18 t-medium mb-12">차수생성</h2>
              <!-- 조회 영역 -->
              <div class="lookup-wrap">
                <div class="form-field" style="display: flex;">
                  <!-- 정산일 -->
                  <label for="calculateDate" class="form-label mr-8">정산일</label>
                  <div class="input-field" style="width: 149px;">
                    <input type="date" class="input input-icon" id="currentDate1" required="" style="top: 0;">
                  </div>
                  <i class="mx-8 mt-4">-</i>
                  <div class="input-field" style="width: 149px;">
                    <input type="date" class="input input-icon" id="currentDate2" required="" style="top: 0;">
                  </div>
                  <!-- 카테고리 -->
                  <label for="category" class="form-label ml-26 mr-8" style="display: inline-flex;">카테고리</label>
                  <div class="input-field">
                    <select name="selectForm" id="category" style="width: 320px">
                      <option value="전체">전체</option>
                      <option value="공연">공연</option>
                      <option value="전시">전시</option>
                      <option value="스포츠">스포츠</option>
                      <option value="링크온">링크온</option>
                      <option value="연동상품">연동상품</option>
                    </select>
                  </div>
                  <!-- 파트너명 -->
                  <label for="partnerName" class="form-label ml-26 mr-8">파트너명</label>
                  <div class="input-field">
                    <input type="text" class="input-txt-auto" id="partnerName" placeholder="파트너명" style="width: 320px;">
                  </div>
                </div>
                <!-- 두 번째 줄 -->
                <div class="form-field mt-30" style="display: flex;">
                  <!-- 정산주기 -->
                  <label for="calculateCycle" class="form-label mr-8" style="display: inline-flex;">정산주기</label>
                  <div class="input-field">
                    <select name="selectForm" id="calculateCycle" style="width: 320px;">
                      <option value="전체">전체</option>
                      <option value="1주단위">1주단위</option>
                      <option value="2주단위">2주단위</option>
                      <option value="매월">매월</option>
                      <option value="종료후">종료후</option>
                      <option value="경기단위별">경기단위별</option>
                    </select>
                  </div>
                  <!-- 상품정보 -->
                  <label for="productInfo" class="form-label ml-26 mr-8">상품정보</label>
                  <div class="input-field">
                    <input type="text" class="input-txt-auto" id="productInfo" placeholder="상품명" style="width: 156px;">
                  </div>
                  <div class="input-field">
                    <input type="text" class="input-txt-auto ml-8" id="productInfo" placeholder="상품번호" style="width: 156px;">
                  </div>
                  <!-- 판매정보 -->
                  <label for="SaleInfo" class="form-label ml-26 mr-8">판매정보</label>
                  <div class="input-field">
                    <select name="selectForm" id="SaleInfo" style="width: 320px;">
                      <option value="전체">전체</option>
                      <option value="판매매수 0매">판매매수 0매</option>
                      <option value="판매금액 0원">판매금액 0원</option>
                      <option value="현장현금관리Y">현장현금관리Y</option>
                      <option value="위탁판매Y">위탁판매Y</option>
                      <option value="현장운영수수료Y">현장운영수수료Y</option>
                    </select>
                  </div>
                </div>
                <!-- 세 번째  -->
                <div class="form-field mt-30" style="display: flex;">
                  <!-- 정산상태 -->
                  <label for="calSitu" class="form-label mr-8">정산상태</label>
                  <form action="#">
                    <div class="input-field">
                      <select name="selectForm" id="calSitu" style="width: 320px;">
                        <option value="전체">전체</option>
                        <option value="정산대기">정산대기</option>
                        <option value="정산요청" selected>정산요청</option>
                        <option value="요청반려">요청반려</option>
                        <option value="정산보류">정산보류</option>
                      </select>
                    </div>
                  </form>
                  <!-- 계약정보 -->
                  <label for="contractInfo" class="form-label ml-26 mr-8">계약정보</label>
                  <div class="input-field">
                    <input type="text" class="input-txt-auto" id="contractInfo" placeholder="계약명" style="width: 156px;">
                  </div>
                  <div class="input-field">
                    <input type="text" class="input-txt-auto ml-8" id="contractInfo" placeholder="계약번호" style="width: 156px;">
                  </div>
                  <!-- 계약담당자 -->
                  <label for="contractManager" class="form-label ml-26 mr-8">계약담당자</label>
                  <div class="input-field">
                    <input type="text" class="input-txt-auto" id="contractManager" placeholder="계약담당자" style="width: 320px;">
                  </div>
                </div>
                <!-- 조회 버튼 -->
                <div>
                  <button href="#" id="lookup-btn" class="btn-h38 btn-red">조회</button>
                </div>
              </div>
            </div>
            <!-- 조회 결과 -->
            <div id="result" class="mt-40">
              <h2 class="t-18 t-medium mb-12 over-h">
                조회 결과
                <span class="t-14 t-normal ml-2">총 312건</span>
                <div class="f-right">
                  <button href="#" class="btn-h32 btn-grayline mr-4 calculate-hold">정산 보류</button>
                  <button href="#" class="btn-h32 btn-grayline mr-4">정산 보류 해제</button>
                  <button href="#" class="btn-h32 btn-blackline mr-4">위탁판매내역등록</button>
                  <button href="#" class="btn-h32 btn-blackline mr-4">기타금액조정</button>
                  <button href="#" class="btn-h32 btn-blackline mr-4">현장운영수수료</button>
                  <button href="#" class="btn-h32 btn-blackline mr-4">현장 현금 관리</button>
                  <button href="#" class="btn-h32 btn-black mr-4 request-companion">요청반려</button>
                  <button href="#" class="btn-h32 btn-black">차수생성</button>
                </div>
              </h2>
              <!-- 조회 결과 테이블 -->
              <div class="table-scroll-container">
                <div class="table-scroll">
                  <table class="table-b03">
                    <colgroup>
                    <col style="width: 46px"><col style="width: 100px">
                    <col style="width: 80px"><col style="width: 70px">
                    <col style="width: 70px"><col style="width: 250px">
                    <col style="width: 100px"><col style="width: 150px">
                    <col style="width: 70px"><col style="width: 70px">
                    <col style="width: 70px"><col style="width: 100px">
                    <col style="width: 70px"><col style="width: 60px">
                    <col style="width: 60px"><col style="width: 60px">
                    <col style="width: 60px"><col style="width: 60px">
                    <col style="width: 60px"><col style="width: 60px">
                    <col style="width: 110px"><col style="width: 110px">
                    <col style="width: 110px"><col style="width: 110px">
                    <col style="width: 110px"><col style="width: 110px">
                    <col style="width: 110px"><col style="width: 110px">
                    <col style="width: 110px"><col style="width: 110px">
                    <col style="width: 110px"><col style="width: 110px">
                    <col style="width: 110px"><col style="width: 70px">
                    <col style="width: 70px"><col style="width: 70px">
                    </colgroup>
                    <thead>
                      <tr>
                        <th>
                          <div class="th">
                            <label class="checkbox checkbox-none">
                              <input type="checkbox" name="checkboxGroupNone">
                              <span class="label label-none"></span>
                            </label>
                          </div>
                        </th>
                        <th><div class="th">정산일</div></th>
                        <th><div class="th">상태</div></th>
                        <th><div class="th">카테고리</div></th>
                        <th><div class="th">상품번호</div></th>
                        <th><div class="th">상품명</div></th>
                        <th><div class="th">관람기간</div></th>
                        <th><div class="th">파트너명</div></th>
                        <th><div class="th">계약번호</div></th>
                        <th><div class="th">정산주기</div></th>
                        <th><div class="th">정산차수</div></th>
                        <th><div class="th">정산기간</div></th>
                        <th><div class="th">정산유형</div></th>
                        <th><div class="th">현장현금관리</div></th>
                        <th><div class="th">선급금</div></th>
                        <th><div class="th">위탁판매</div></th>
                        <th><div class="th">채권양도</div></th>
                        <th><div class="th">가압류</div></th>
                        <th><div class="th">지급보류</div></th>
                        <th><div class="th">예외정산</div></th>
                        <th><div class="th">티켓<br>판매매수</div></th>
                        <th><div class="th">티켓<br>판매금액</div></th>
                        <th><div class="th">부가상품<br>판매금액</div></th>
                        <th><div class="th">예매수수료</div></th>
                        <th><div class="th">취소수수료</div></th>
                        <th><div class="th">우편배송료</div></th>
                        <th><div class="th">판매수수료</div></th>
                        <th><div class="th">권종수수료</div></th>
                        <th><div class="th">현장운영수수료</div></th>
                        <th><div class="th">위탁판매금액</div></th>
                        <th><div class="th">기타수수료</div></th>
                        <th><div class="th">기타판매금액</div></th>
                        <th><div class="th">기타지급금액</div></th>
                        <th><div class="th">상품메모</div></th>
                        <th><div class="th">계약담당자</div></th>
                        <th><div class="th">사업부</div></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>
                          <div class="td">
                            <label class="checkbox checkbox-none">
                              <input type="checkbox" name="checkboxGroupNone">
                              <span class="label label-none"></span>
                            </label>
                          </div>
                        </td>
                        <td><div class="td">2022.08.01</div></td>
                        <td><div class="td">정산요청</div></td>
                        <td><div class="td">공연</div></td>
                        <td><div class="td">23345</div></td>
                        <td><div class="td">제8회 서승연 가야금 독주회</div></td>
                        <td><div class="td">2022.07.01~2022.07.31</div></td>
                        <td><div class="td">(주)뉴컴퍼니</div></td>
                        <td><div class="td t-underline">12345</div></td>
                        <td><div class="td">종료후</div></td>
                        <td><div class="td">1</div></td>
                        <td><div class="td t-underline calculate-period" style="cursor: pointer;">2022.03.15~2022.07.31</div></td>
                        <td><div class="td">영수</div></td>
                        <td><div class="td">Y</div></td>
                        <td><div class="td">Y</div></td>
                        <td><div class="td"></div></td>
                        <td><div class="td"></div></td>
                        <td><div class="td"></div></td>
                        <td><div class="td">Y</div></td>
                        <td><div class="td">Y</div></td>
                        <td><div class="td t-right">1,000,000,000</div></td>
                        <td><div class="td t-right">1,000,000,000</div></td>
                        <td><div class="td t-right">1,000,000,000</div></td>
                        <td><div class="td t-right">1,000,000,000</div></td>
                        <td><div class="td t-right">1,000,000,000</div></td>
                        <td><div class="td t-right">1,000,000,000</div></td>
                        <td><div class="td t-right">1,000,000,000</div></td>
                        <td><div class="td t-right">0</div></td>
                        <td>
                          <div class="td t-right">
                            <a class="t-underline t-bold cu-p">0</a>
                          </div>
                        </td>
                        <td>
                          <div class="td t-right">
                            <a class="t-underline t-bold cu-p">0</a>
                          </div>
                        </td>
                        <td>
                          <div class="td t-right">
                            <a class="t-underline t-bold cu-p">0</a>
                          </div>
                        </td>
                        <td>
                          <div class="td t-right">
                            <a class="t-underline t-bold cu-p">0</a>
                          </div>
                        </td>
                        <td>
                          <div class="td t-right">
                            <a class="t-underline t-bold cu-p">0</a>
                          </div>
                        </td>
                        <td>
                          <div class="td">
                            <a class="t-underline t-bold cu-p">0</a>
                          </div>
                        </td>
                        <td>
                          <div class="td">박경호</div>
                        </td>
                        <td>
                          <div class="td">전시팀</div>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <div class="td">
                            <label class="checkbox checkbox-none">
                              <input type="checkbox" name="checkboxGroupNone">
                              <span class="label label-none"></span>
                            </label>
                          </div>
                        </td>
                        <td><div class="td"></div></td>
                        <td><div class="td">요청반려</div></td>
                        <td><div class="td">전시</div></td>
                        <td><div class="td"></div></td>
                        <td><div class="td"></div></td>
                        <td><div class="td"></div></td>
                        <td><div class="td"></div></td>
                        <td><div class="td t-underline"></div></td>
                        <td><div class="td">1주(월)</div></td>
                        <td><div class="td">28</div></td>
                        <td><div class="td t-underline"></div></td>
                        <td><div class="td">청구</div></td>
                        <td><div class="td"></div></td>
                        <td><div class="td"></div></td>
                        <td><div class="td">Y</div></td>
                        <td><div class="td">Y</div></td>
                        <td><div class="td">Y</div></td>
                        <td><div class="td"></div></td>
                        <td><div class="td"></div></td>
                        <td><div class="td"></div></td>
                        <td><div class="td t-right"></div></td>
                        <td><div class="td t-right"></div></td>
                        <td><div class="td t-right"></div></td>
                        <td><div class="td t-right"></div></td>
                        <td><div class="td t-right"></div></td>
                        <td><div class="td t-right"></div></td>
                        <td><div class="td t-right"></div></td>
                        <td>
                          <div class="td t-right">
                            <a class="t-underline t-bold cu-p"></a>
                          </div>
                        </td>
                        <td>
                          <div class="td t-right">
                            <a class="t-underline t-bold cu-p"></a>
                          </div>
                        </td>
                        <td>
                          <div class="td t-right">
                            <a class="t-underline t-bold cu-p"></a>
                          </div>
                        </td>
                        <td>
                          <div class="td t-right">
                            <a class="t-underline t-bold cu-p"></a>
                          </div>
                        </td>
                        <td>
                          <div class="td t-right">
                            <a class="t-underline t-bold cu-p"></a>
                          </div>
                        </td>
                        <td>
                          <div class="td">
                            <a class="t-underline t-bold cu-p">2</a>
                          </div>
                        </td>
                        <td>
                          <div class="td"></div>
                        </td>
                        <td>
                          <div class="td"></div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <!-- 탑 버튼 -->
            <button class="btn-top pa-0" id="topButtonImg">
              <img src="../../../img/svg/icons/top-btn.svg" alt="" />
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- 팝업창 -->
    <!-- 팝업 : 정산기간 변경 -->
    <div class="modal date-change" tabindex="-1" id="modalBasic">
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content" style="height: 400px;">
          <div class="modal-header">
            <h3 class="modal-title t-24 t-bold">정산기간 변경</h3>
            <button class="close icon-close common-icon ty-sm" data-dismiss="modal"><i>닫기</i></button>
          </div>
          <div class="modal-body py-40">
            <!-- 테이블 -->
            <table class="table-b02">
              <colgroup>
              <col style="width: 148px"><col>
              </colgroup>
              <tbody>
                <tr>
                  <th><div class="t-left th-form">기존</div></th>
                  <td><div class="t-left td-form">2022.03.15~2022.07.31</div></td>
                </tr>
                <tr>
                  <th><div class="t-left th-form">변경</div></th>
                  <td>
                    <div class="t-left td-form display-f">
                      <div class="input-field" style="width: 149px;">
                        <input type="date" class="input input-icon" required="" style="top: 0;">
                      </div>
                      <i class="mx-8 mt-4">-</i>
                      <div class="input-field" style="width: 149px;">
                        <input type="date" class="input input-icon" required="" style="top: 0;">
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <!-- 하단 버튼 영역 -->
          <div class="modal-footer">
            <button class="btn-h46 btn-blackline modal-close" data-dismiss="modal" style="width: 200px">닫기</button>
            <button class="btn-h46 btn-black ml-10" data-dismiss="modal" style="width: 200px">수정</button>
          </div>
        </div>
      </div>
    </div> 

    <!-- 팝업 : 정산 보류 사유 -->
    <div class="modal hold-reason" tabindex="-1" id="modalLayer">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title t-18 t-medium">정산 보류</h3>
            <button class="close icon-close common-icon ty_sm" data-dismiss="modal"><i>닫기</i></button>
          </div>
          <div class="modal-body">
            <h3 class="t-14">정산 보류 사유를 입력해주세요. 사유는 상품메모에 저장 됩니다.</h3>
            <div class="modal-scroll"> 
              <textarea class="textarea-popup mt-14" placeholder="정산보류 사유를 입력해주세요."></textarea>
            </div>
          </div>
          <div class="modal-footer">
            <button class="btn-h46 btn-black wd-100" data-dismiss="modal">등록</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 팝업 : 정산 요청 반려 -->
    <div class="modal refusal" tabindex="-1" id="modalLayer">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title t-18 t-medium">정산 요청 반려</h3>
            <button class="close icon-close common-icon ty_sm" data-dismiss="modal"><i>닫기</i></button>
          </div>
          <div class="modal-body">
            <h3 class="t-14">정산 요청 반려 사유를 입력해주세요. 사유는 상품메모에 저장 됩니다.</h3>
            <div class="modal-scroll"> 
              <textarea class="textarea-popup mt-14" placeholder="정산보류 사유를 입력해주세요."></textarea>
            </div>
          </div>
          <div class="modal-footer">
            <button class="btn-h46 btn-black wd-100" data-dismiss="modal">요청반려</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 케이스뷰 -->
    <div class="caseview">
      <button type="button" class="caseview-btn">케이스뷰 on/off</button>
      <button type="button" class="caseview-btn1">[팝업] 정산기간 변경</button>
      <button type="button" class="caseview-btn2">[팝업] 정산 보류 사유</button>
      <button type="button" class="caseview-btn3">[팝업] 정산 요청 반려</button>
    </div>
    <style>
      .caseview {
        position: fixed;
        top: 0;
        right: 0;
        z-index: 1100;
        min-width: 20px;
        min-height: 20px;
        background-color: rgba(0, 0, 0, 0.5);
      }
      .caseview button {
        display: block;
        padding: 5px 10px;
        border: 0;
        background: transparent;
        font-size: 12px;
        color: #fff;
        text-align: left;
      }
    </style>
    <script>
      // 조회결과 버튼 팝업 연결
      $('.calculate-hold').on('click', function() {
        $('.hold-reason').show();
      });
      $('.request-companion').on('click', function() {
        $(".refusal").show();
      });
      $('.calculate-period').on('click', function() {
        $(".date-change").show();
      });
      // 모달 닫기
      $('.close, .modal-close').on('click', function() {
        $('.modal').hide();
      })
      // 탑 버튼
      $(document).ready(function () {
        $(window).scroll(function () {
          if ($(this).scrollTop() > 500) {
            $("#topButton").fadeIn();
          } else {
            $("#topButton").fadeOut();
          }
        });
  
        $("#topButtonImg").click(function () {
          $("#table").animate({ scrollTop: 0 }, "300");
        });
        
      });
      // 가격 폼 자동 콤마
      $('#inputFix').blur(function(){
          var value = $('#inputLabel').text()+$(this).val();
      });
      function inputNumberFormat(obj) {
            obj.value = comma(uncomma(obj.value));
        }
        function comma(str) {
            str = String(str);
            return str.replace(/(\d)(?=(?:\d{3})+(?!\d))/g, '$1,');
        }

        function uncomma(str) {
            str = String(str);
            return str.replace(/[^\d]+/g, '');
        }
      // 날짜 당일 셀렉트
      document.getElementById('currentDate1').value = new Date().toISOString().substring(0, 10);;
      document.getElementById('currentDate2').value = new Date().toISOString().substring(0, 10);;
      // 케이스뷰
      $(".caseview-btn").on("click", function () {
        $(this).siblings().toggle();
      });
      $(".caseview-btn1").on("click", function () {
        $(".date-change").toggle();
      });
      $(".caseview-btn2").on("click", function () {
        $(".hold-reason").toggle();
      });
      $(".caseview-btn3").on("click", function () {
        $(".refusal").toggle();
      });
    </script>
  </body>
</html>
